var ndarray = require('ndarray');
var cartesion = require('ndarray-cartesian-product');
var interpolate = require('./lib/helpers').interpolate;

var meshgrid = function(){
  var args;
  if(arguments[0] instanceof Array && (arguments[0])[0] instanceof Array)
    args = arguments[0];
  else 
    args = Array.prototype.slice.call(arguments);

  var mapped = args.map(function(val){
    return interpolate(val);
  });

  return cartesion(mapped);
};

module.exports = meshgrid;
