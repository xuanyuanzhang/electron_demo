var test = require('tape');
var equals = require('ndarray-equals');
var meshgrid = require('../');
var ndarray = require('ndarray');
var helpers = require('../lib/helpers');
var interpolate = helpers.interpolate;

test('interpolate tests', function(t){
  var test = interpolate([0, 10, 2]);
  var goal = ndarray(new Float32Array([0, 2, 4, 6, 8, 10]));
  t.assert(equals(test, goal));
  t.end();
});

test('meshgrid tests', function(t){
  var test_grid = meshgrid([0, 10, 2]);
  var goal_grid = ndarray(new Float32Array([0, 2, 4, 6, 8, 10]));
  t.assert(equals(test_grid, goal_grid));

  test_grid = meshgrid([0.0, 1.0, 0.2]);
  goal_grid = ndarray(new Float32Array([0.0, 0.2, 0.4, 0.6, 0.8, 1.0]));
  t.assert(equals(test_grid, goal_grid));

  test_grid = meshgrid([0.0, 1.0, 0.5], [0.0, 0.5, 0.25]);
  goal_grid = ndarray(new Float32Array([0.0, 0.0, 
    0.5, 0.0,
    1.0, 0.0,
    0.0, 0.25, 
    0.5, 0.25,
    1.0, 0.25,
    0.0, 0.5,
    0.5, 0.5,
    1.0, 0.5]), [9, 2]);
  t.assert(equals(test_grid, goal_grid));

  test_grid = meshgrid([[0.0, 1.0, 0.5], [0.0, 0.5, 0.25]]);
  goal_grid = ndarray(new Float32Array([0.0, 0.0, 
    0.5, 0.0,
    1.0, 0.0,
    0.0, 0.25, 
    0.5, 0.25,
    1.0, 0.25,
    0.0, 0.5,
    0.5, 0.5,
    1.0, 0.5]), [9, 2]);
  t.assert(equals(test_grid, goal_grid));
 
  t.end();
});
 
