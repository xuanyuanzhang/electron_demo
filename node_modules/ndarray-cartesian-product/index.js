var write_cartesian_product = require('./lib/helpers').write_cartesian_product;
var allocate_ndarray = require('./lib/helpers').allocate_ndarray;

module.exports = function(){
  var args;
  if(arguments[0] instanceof Array)
    args = arguments[0];
  else
    args = Array.prototype.slice.call(arguments);

  if(args.length == 1)  return args[0];
  var arr = allocate_ndarray(args);
  write_cartesian_product(arr, args);
  return arr;
};
